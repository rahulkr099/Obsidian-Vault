Alright Rahul, here comes a clean, interview-style **Backend Machine Coding Round** mock question for a **Standard CRUD API**.  
This mirrors what companies like Razorpay, Swiggy, Zomato, Walmart, and startups often ask in backend rounds.

Iâ€™ll make it simple, clear, and full of smart edge cases so you train like a champ.

---

# âœ… **Backend Machine Coding Round â€” CRUD API (Users Service)**

### **â± Time Limit:** 60 minutes

### **ğŸ¯ Goal:** Build a **Users CRUD API** with clean routes, controllers, services, and validations.

---

# **ğŸ“ Problem Statement**

Design and implement a **Users Management REST API** with the following endpoints:

```
POST    /users
GET     /users
GET     /users/:id
PUT     /users/:id
DELETE  /users/:id
```

You must follow a **3-layer architecture**:

- **Routes**
    
- **Controller**
    
- **Service** (business logic)
    

Database can be **in-memory**, **SQLite**, **MongoDB**, or **PostgreSQL** â€” interviewer will usually accept any.

---

# **ğŸ“Œ User Object Structure**

Each user should have:

```json
{
  "id": "uuid or number",
  "name": "string",
  "email": "string",
  "age": number,
  "createdAt": timestamp,
  "updatedAt": timestamp
}
```

---

# **ğŸ’¡ Functional Requirements**

### **1ï¸âƒ£ Create User â€” POST /users**

- Validate:
    
    - name â†’ required
        
    - email â†’ required + valid format + unique
        
    - age â†’ optional but must be number
        
- Save user
    
- Return created user with timestamps
    

### **2ï¸âƒ£ Get All Users â€” GET /users**

- Return list of all users
    
- Add optional filters:
    
    - `?age=20`
        
    - `?name=rahul`
        
- Add optional pagination:
    
    - `?page=1&limit=10`
        

### **3ï¸âƒ£ Get User by ID â€” GET /users/:id**

- Fetch user
    
- If user not found â†’ return 404
    

### **4ï¸âƒ£ Update User â€” PUT /users/:id**

- Partial update allowed or full update (your choice; clarify)
    
- Validate updated fields
    
- Unique email constraint must remain
    
- Update timestamps
    

### **5ï¸âƒ£ Delete User â€” DELETE /users/:id**

- Delete user
    
- Return success message
    
- If user not found â†’ return 404
    

---

# **ğŸ§ª Edge Cases to Cover**

- Creating user with duplicate email â†’ 409 Conflict
    
- Missing fields â†’ 400 Bad Request
    
- Invalid UUID/ID format â†’ 400
    
- Updating user with empty name â†’ reject
    
- Deleting user twice â†’ return 404
    
- Pagination: limit < 1 or page < 1 â†’ fallback to default
    
- Large dataset (1000+ users) â†’ service shouldnâ€™t slow down
    
- Email case-insensitivity (â€œ[Rahul@x.com](mailto:Rahul@x.com)â€ == â€œ[rahul@x.com](mailto:rahul@x.com)â€)
    
- Update with no fields â†’ should not break
    

---

# **ğŸ”§ Error Handling Requirements**

Return consistent error structure, e.g.:

```json
{
  "error": true,
  "message": "User not found"
}
```

Status codes:

- 200 OK
    
- 201 Created
    
- 400 Bad Request
    
- 404 Not Found
    
- 409 Conflict
    
- 500 Internal Server Error
    

---

# **ğŸ§± Architecture Requirements**

### **Routes Layer**

Defines endpoints only.

### **Controller Layer**

- Parse inputs
    
- Validate request
    
- Call service
    
- Return HTTP response
    

### **Service Layer**

- Actual logic:
    
    - Create
        
    - Update
        
    - Filter
        
    - Pagination
        
    - Delete
        

### **Data Layer**

- In-memory array or DB implementation
    
- Use repository pattern if possible
    

---

# **ğŸ§¬ Bonus Features (To Impress Interviewers)**

- Add search filters (name/email contains).
    
- Add sorting: `?sortBy=name&order=asc`
    
- Add soft-delete instead of hard delete.
    
- Add Swagger documentation.
    
- Add JOI/Yup schema validation.
    
- Add rate limiting (e.g., max 60 req/min).
    
- Add middleware-based error handler.
    
- Add logging (winston, pino).
    

---

# â­ Interviewer Follow-Up Questions

1. How would you handle transactions if two users try to register same email?
    
2. How would you scale this API horizontally?
    
3. How would you add authentication (JWT)?
    
4. How would you write unit tests for service and controller layers?
    
5. How would you implement caching for `/users`?
    
6. How would you optimize pagination for millions of records?
    

---

If you want, I can also give you:

âœ… Full solution (Node.js + Express + MongoDB/Postgres)  
âœ… Unit tests (Jest/Supertest)  
âœ… Folder structure for production apps  
âœ… SQL version + MongoDB version  
âœ… Bigger backend questions (auth, file uploads, queues, caching, sockets)

Just tell me â€” next backend round?