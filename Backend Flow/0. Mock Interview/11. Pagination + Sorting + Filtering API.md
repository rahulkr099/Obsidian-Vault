Alright Rahul, here comes a clean, interview-tested **Backend Machine Coding Round** mock question for a **Pagination + Sorting + Filtering API**.  
This is a classic backend round because it checks **query params, clean business logic, performance, and API consistency**.

I‚Äôll keep it simple in words but deep enough for real interviews.

---

# üìä **Backend Machine Coding Round ‚Äî Pagination + Sorting + Filtering API**

### ‚è± Time Limit: 45‚Äì60 minutes

### üéØ Goal: Build a robust API that supports:

- Pagination
    
- Sorting
    
- Filtering
    
- Clean query param validation
    
- Consistent response structure
    

The domain can be **Products**, **Users**, **Employees**, or any dataset.  
We will use **Products** for this question.

---

# üìù **Problem Statement**

Build an API that returns a list of products with support for:

- **Pagination**
    
- **Sorting**
    
- **Filtering**
    

The endpoint must look like:

```
GET /products?page=1&limit=10&sort=price&order=asc&category=mobile
```

You may choose MongoDB, SQL, or in-memory storage.

---

# üì¶ **Product Model Structure**

```json
{
  "id": "uuid",
  "name": "iPhone 12",
  "category": "mobile",
  "price": 55000,
  "rating": 4.6,
  "createdAt": "...",
  "updatedAt": "..."
}
```

---

# üîß **Required Endpoint**

```
GET /products
```

---

# üí° **Functional Requirements**

### ‚úÖ 1. Pagination

Query params:

```
?page=1&limit=10
```

Rules:

- `page` default = 1
    
- `limit` default = 10
    
- Both must be positive integers
    
- Apply offset logic:
    
    ```
    skip = (page - 1) * limit
    ```
    

---

### ‚úÖ 2. Sorting

Query params:

```
?sort=price&order=asc
```

Rules:

- Allowed sort fields: price, rating, createdAt
    
- Allowed order values: asc, desc
    
- Default: `sort=createdAt`, `order=desc`
    
- Must handle:
    
    - Invalid fields ‚Üí return 400
        
    - Case-insensitive values
        

---

### ‚úÖ 3. Filtering

Query params:

```
?category=mobile
?minPrice=10000&maxPrice=50000
?search=iphone
```

You must support the following optional filters:

- Category filter
    
- Minimum price
    
- Maximum price
    
- Name search (case-insensitive substring match)
    

Examples:

```
/products?category=laptop
/products?minPrice=20000&maxPrice=40000
/products?search=pro
```

Filters can be combined with sorting + pagination.

---

### ‚úÖ 4. Response Format (Required)

Response must include:

```json
{
  "page": 1,
  "limit": 10,
  "total": 223,
  "totalPages": 23,
  "data": [ ...products ]
}
```

---

# üß™ **Edge Cases to Handle**

- Invalid page or limit (non-numeric or <=0) ‚Üí use defaults
    
- `page` beyond available data ‚Üí return empty list
    
- Invalid sort field ‚Üí 400 Bad Request
    
- Invalid order ‚Üí default to `asc`
    
- Negative price filters ‚Üí 400
    
- minPrice > maxPrice ‚Üí return empty or reject (your choice)
    
- No products match ‚Üí return `total = 0` with empty `data` array
    
- Search with special characters
    
- Combining filters with pagination (must be consistent)
    
- Large datasets ‚Üí efficient query (don‚Äôt filter on app side if DB supports it)
    

---

# ‚öôÔ∏è **Testing / Verification (Interviewer Will Check)**

1. Pagination works correctly
    
2. Sorting applies after filtering
    
3. Filtering applies before pagination
    
4. Returned `total` matches filtered dataset count
    
5. Stable sorting when values are equal
    
6. Consistent error handling
    
7. Clean and readable code structure
    
8. Avoid fetching entire dataset into memory (if using DB)
    

---

# ‚≠ê **Interviewer Follow-Up Questions**

1. How would you optimize pagination for millions of rows?
    
2. Difference between **offset pagination** and **cursor pagination**?
    
3. How to implement **cursor-based pagination**?
    
4. How would you add multiple sort fields?
    
5. How would you add caching (Redis)?
    
6. How would you handle search indexing (ElasticSearch)?
    
7. How do you avoid N+1 queries when joining related data?
    
8. How do you prevent performance issues with complex filters?
    

---

# üåü **Bonus Features (Good to Impress)**

- Add `?sort=-price` format (minus = DESC)
    
- Add multi-field sorting: `?sort=price,rating&order=asc,desc`
    
- Add text search with index (`LIKE` / `MATCH`)
    
- Add category + price + rating filters together
    
- Add caching for popular queries
    
- Add rate-limiting per user
    
- Add response compression (gzip)
    

---

If you want next backend machine coding rounds, I can prepare:

‚û°Ô∏è **12. File Upload (S3 + validation + limits)**  
‚û°Ô∏è **13. Real-time Notifications (webhooks / sockets)**  
‚û°Ô∏è **14. Chat Backend**  
‚û°Ô∏è **15. Payment System (Mini Razorpay)**

Just say the next one!