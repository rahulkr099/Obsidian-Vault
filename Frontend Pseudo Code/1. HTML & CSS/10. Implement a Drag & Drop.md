# **Pseudocode: Drag and Drop Feature**

---

## **START**

---

## **INITIAL SETUP**

```
CREATE a draggable item
CREATE a drop area
```

---

## **PROCEDURE allowDrop(event)**

```
STOP default browser behavior
ALLOW item to be dropped in the target area
```

---

## **PROCEDURE drag(event)**

```
GET the id of the dragged element
STORE the element id in drag data
```

---

## **PROCEDURE drop(event)**

```
STOP default browser behavior

GET stored element id from drag data
FIND the element using the id
ADD the dragged element inside the drop area
```

---

## **USER INTERACTION FLOW**

```
WHEN user starts dragging the item
    CALL drag(event)

WHEN dragged item is over drop area
    CALL allowDrop(event)

WHEN user drops the item
    CALL drop(event)
```

---

## **END**

---

## ðŸ§  Simple Explanation

â€¢ User drags an element  
â€¢ Browser temporarily stores its identity  
â€¢ Drop area allows the drop  
â€¢ Element is moved into drop area

This works using the **DataTransfer object** behind the scenes.

---

Letâ€™s **implement all professional drag-and-drop upgrades** step by step in **one clean working example**.

You will get:

âœ… Multiple draggable items  
âœ… Drop zone highlight on hover  
âœ… Restrict drop to valid zone only  
âœ… Custom drag preview  
âœ… Mobile (touch) support (basic but practical)

You can **copyâ€“paste and run this directly**.

---

## âœ… FULL PROFESSIONAL DRAG & DROP IMPLEMENTATION

```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Drag & Drop</title>

<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }

    .container {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-top: 30px;
    }

    .items {
        width: 200px;
    }

    .drag-item {
        padding: 10px;
        margin: 8px;
        background: #4caf50;
        color: white;
        cursor: grab;
        border-radius: 5px;
    }

    .drop-zone {
        width: 220px;
        height: 150px;
        border: 2px dashed black;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .drop-zone.hover {
        border-color: green;
        background: #e8f5e9;
    }
</style>
</head>

<body>

<h2>Advanced Drag and Drop</h2>

<div class="container">

    <div class="items">
        <div class="drag-item" draggable="true">Item 1</div>
        <div class="drag-item" draggable="true">Item 2</div>
        <div class="drag-item" draggable="true">Item 3</div>
    </div>

    <div class="drop-zone" id="dropZone">
        Drop Here
    </div>

</div>

<script>
    const dragItems = document.querySelectorAll(".drag-item");
    const dropZone = document.getElementById("dropZone");
    let draggedItem = null;

    // Drag start
    dragItems.forEach(item => {
        item.addEventListener("dragstart", e => {
            draggedItem = item;

            // Custom drag preview
            const preview = item.cloneNode(true);
            preview.style.position = "absolute";
            preview.style.top = "-1000px";
            document.body.appendChild(preview);
            e.dataTransfer.setDragImage(preview, 10, 10);

            setTimeout(() => document.body.removeChild(preview), 0);
        });
    });

    // Allow drop
    dropZone.addEventListener("dragover", e => {
        e.preventDefault();
        dropZone.classList.add("hover");
    });

    // Leave drop zone
    dropZone.addEventListener("dragleave", () => {
        dropZone.classList.remove("hover");
    });

    // Drop
    dropZone.addEventListener("drop", e => {
        e.preventDefault();
        dropZone.classList.remove("hover");

        if (draggedItem) {
            dropZone.appendChild(draggedItem);
            draggedItem = null;
        }
    });

    // ---------- MOBILE TOUCH SUPPORT ----------
    dragItems.forEach(item => {
        item.addEventListener("touchstart", e => {
            draggedItem = item;
        });

        item.addEventListener("touchend", e => {
            const touch = e.changedTouches[0];
            const dropRect = dropZone.getBoundingClientRect();

            if (
                touch.clientX > dropRect.left &&
                touch.clientX < dropRect.right &&
                touch.clientY > dropRect.top &&
                touch.clientY < dropRect.bottom
            ) {
                dropZone.appendChild(draggedItem);
            }

            draggedItem = null;
        });
    });
</script>

</body>
</html>
```

---

## ðŸ§  What You Just Implemented (Very Important)

### âœ” Multiple items

Any number of draggable elements work automatically.

### âœ” Drop zone highlight

Visual feedback when user hovers.

### âœ” Drop restriction

Items only drop **inside the valid zone**.

### âœ” Drag preview

Custom drag image instead of default ghost.

### âœ” Mobile support

Touch-based drag & drop for phones.

This is **industry-level DOM + event handling**.

----